{"version":3,"sources":["uni-app:///main.js","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/pages/user/coupon/coupon.vue?3491","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/pages/user/coupon/coupon.vue?edac","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/pages/user/coupon/coupon.vue?d6d3","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/pages/user/coupon/coupon.vue?5b34","uni-app:///pages/user/coupon/coupon.vue","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/components/coupon/coupon.vue?e7c7","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/components/coupon/coupon.vue?5d71","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/components/coupon/coupon.vue?d172","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/components/coupon/coupon.vue?c49e","uni-app:///components/coupon/coupon.vue","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/components/coupon/coupon.vue?8b8e","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/components/coupon/coupon.vue?5dda","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/pages/user/coupon/coupon.vue?e9a5","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/pages/user/coupon/coupon.vue?aebe"],"names":["createPage","Page"],"mappings":"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","file":"pages/user/coupon/coupon.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/user/coupon/coupon.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./coupon.vue?vue&type=template&id=e01bd4b8&scoped=true&\"\nvar renderjs\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./coupon.vue?vue&type=style&index=0&id=e01bd4b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e01bd4b8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/coupon/coupon.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=template&id=e01bd4b8&scoped=true&\"","var components\ntry {\n  components = {\n    comTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/com/com-tabs/com-tabs\" */ \"@/components/com/com-tabs/com-tabs.vue\"\n      )\n    },\n    mainNomore: function() {\n      return import(\n        /* webpackChunkName: \"components/main/nomore/nomore\" */ \"@/components/main/nomore/nomore.vue\"\n      )\n    },\n    mainLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"components/main/loadmore/loadmore\" */ \"@/components/main/loadmore/loadmore.vue\"\n      )\n    },\n    mainLoading: function() {\n      return import(\n        /* webpackChunkName: \"components/main/loading/loading\" */ \"@/components/main/loading/loading.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.dataList && _vm.dataList.length\n      ? _vm.__map(_vm.dataList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = item.type == 2 ? _vm.sub_price_int(item.sub_price) : null\n          var m1 = item.type == 2 ? _vm.sub_price_float(item.sub_price) : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"app\">\r\n\t\t<view class=\"app-header\">\r\n\t\t\t<view class=\"tui-mtop\">\r\n\t\t\t\t<com-tabs :tabs=\"tabs\" :currentTab=\"currentTab\" :selectedColor=\"textColor\" :sliderBgColor=\"textColor\" color=\"#000000\"\r\n\t\t\t\t @change=\"change\" :sliderWidth=\"60\" itemWidth=\"50%\"></com-tabs>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"app-body\">\r\n\t\t\t<view class=\"coupon-items\" v-if=\"dataList && dataList.length\">\r\n\t\t\t\t<view class=\"coupon-item\" v-for=\"(item,index) in dataList\" :key=\"index\" :style=\"{background: 'url('+couponImg+')'}\">\r\n\r\n\t\t\t\t\t<view class=\"coupon-item-right\">\r\n\t\t\t\t\t\t<view class=\"coupon-item-price\">\r\n\t\t\t\t\t\t\t<view v-if=\"item.type == 2\">\r\n\t\t\t\t\t\t\t\t&yen;<text class=\"coupon-item-price-int\">{{sub_price_int(item.sub_price)}}</text>.{{sub_price_float(item.sub_price)}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t<text class=\"coupon-item-price-int\">{{(item.discount)*10}}</text>折\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"coupon-item-condition\">\r\n\t\t\t\t\t\t\t满{{item.coupon_data.min_price}}可用\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"coupon-item-left\">\r\n\t\t\t\t\t\t<view class=\"coupon-item-name\">{{item.coupon_data.name}}</view>\r\n\t\t\t\t\t\t<view class=\"coupon-item-time\">\r\n\t\t\t\t\t\t\t<view v-if=\"item.coupon_data.expire_type == 2\">\r\n\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t开始时间: {{item.coupon_data.begin_at}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t过期时间: {{item.coupon_data.end_at}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-else>还剩{{item.coupon_data.expire_day}}天过期</view>\r\n\t\t\t\t\t\t\t<view class=\"coupon-item-receive\" :style=\"{background:textColor}\" @click=\"toCat(item.coupon_data)\" v-if=\"dataStatus==0\">\r\n\t\t\t\t\t\t\t\t<view class=\"scale\">去使用</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<image v-else-if=\"item.type == 1\" class=\"tag\" :src=\"img_url+'coupon-gray-used-tag.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<!-- <image v-else class=\"tag\" src=\"@/static/coupon-gray-tag.png\" mode=\"aspectFill\"></image> -->\r\n\t\t\t\t\t\t\t<image v-else class=\"tag\" :src=\"img_url+'coupon-gray-tag.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<!-- 对未使用的优化 -->\r\n\t\t\t\t\t\t\t<block v-if=\"currentTab==1\">\r\n\t\t\t\t\t\t\t\t<image v-if=\"item.is_use==0\" class=\"tag\" :src=\"img_url+'coupon-gray-tag.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<image v-else-if=\"item.is_use==1\" class=\"tag\" :src=\"img_url+'coupon-gray-used-tag.png'\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <image v-else class=\"tag\" src=\"@/static/coupon-gray-tag.png\" mode=\"aspectFill\"></image> -->\r\n\t\t\t\t\t\t<!-- <view class=\"coupon-item-sub iconfont icon-yilingqu\" v-if=\"item.is_receive != 0\"></view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"coupon-items\" v-else>\r\n\t\t\t\t<main-nomore text=\"暂无优惠券\" :visible=\"true\" bgcolor=\"transparent\"></main-nomore>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- <view class=\"app-footer flex flex-y-center flex-x-center\" @tap=\"navTo\">\r\n\t\t\t<view>领取更多优惠券 </view>\r\n\t\t\t<image class=\"app-footer-icon\" src=\"/static/images/icon/arrow-down.png\" mode=\"\"></image>\r\n\t\t</view> -->\r\n\r\n\t\t<!--加载loadding-->\r\n\t\t<main-loadmore :visible=\"loadding\" :index=\"3\" type=\"red\"></main-loadmore>\r\n\t\t<main-nomore :visible=\"!pullUpOn\" bgcolor=\"#FFFFFF\"></main-nomore>\r\n\t\t<main-loading :visible=\"loading\"></main-loading>\r\n\t\t<!--加载loadding-->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst _status = 'refresh';\r\n\timport moment from 'moment';\r\n\timport coupon from '@/components/coupon/coupon';\r\n\timport tuiButton from \"@/components/extend/button/button\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\ttuiButton\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timg_url: this.$api.img_url,\r\n\t\t\t\tloadding: false,\r\n\t\t\t\tpullUpOn: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcouponStyle: 4,\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tpages: {\r\n\t\t\t\t\ttotal_count: 1,\r\n\t\t\t\t\tpage_count: 1,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tcurrent_page: 1\r\n\t\t\t\t},\r\n\t\t\t\tdataStatus: 0,\r\n\t\t\t\tcurrentTab: 0,\r\n\t\t\t\ttabs: [{\r\n\t\t\t\t\tname: \"未使用\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"不可用\"\r\n\t\t\t\t}],\r\n\t\t\t\ttextColor:'#bc0100',\r\n\t\t\t\tcouponImg:'https://jx.shuzixiangdao.com/web/static/couponBg.png',\t//默认背景图\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 获取缓存的优惠券背景图--如果有就赋值\r\n\t\t\tlet couponImg = this.globalSet('couponImg');\r\n\t\t\tcouponImg?this.couponImg = couponImg:'';\r\n\t\t\t\r\n\t\t\tif(uni.getStorageSync('mall_config')){\r\n\t\t\t\tthis.textColor = this.globalSet('textCol');\r\n\t\t\t}\r\n\t\t\tthis.getDateList(\"refresh\", true)\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsub_price_int() {\r\n\t\t\t\treturn function(val) {\r\n\t\t\t\t\tvar arr = val.split('.');\r\n\t\t\t\t\treturn arr[0];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsub_price_float() {\r\n\t\t\t\treturn function(val) {\r\n\t\t\t\t\tvar arr = val.split('.');\r\n\t\t\t\t\tif (arr.length != 2) {\r\n\t\t\t\t\t\treturn '00'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn arr[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttoCat(data) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../cat/cat'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取优惠券列表\r\n\t\t\tgetDateList(status, bool) {\r\n\t\t\t\tif(status == 'refresh'){\r\n\t\t\t\t\tthis.dataList = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.loading = bool ? true : false;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tcurrent_page,\r\n\t\t\t\t\tpageSize\r\n\t\t\t\t} = this.pages;\r\n\r\n\t\t\t\tthis.$http.request({\r\n\t\t\t\t\turl: this.$api.coupon.user_coupon_list,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpage: current_page,\r\n\t\t\t\t\t\tstatus: this.dataStatus\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\t// 记录一下返回页面总数\r\n\t\t\t\t\t\tif(res.data.pagination){\r\n\t\t\t\t\t\t\tthis.pages.page_count = res.data.pagination.page_count;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 优化一下时间-只保留年月日\r\n\t\t\t\t\t\tif(res.data.list.length>0){\r\n\t\t\t\t\t\t\tres.data.list.forEach((item) => {\r\n\t\t\t\t\t\t\t\titem.coupon_data.begin_at = item.coupon_data.begin_at.trim().split(\" \")[0];\r\n\t\t\t\t\t\t\t\titem.coupon_data.end_at = item.coupon_data.end_at.trim().split(\" \")[0];\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.dataList = status != 'refresh' ? this.dataList.concat(res.data.list) : res.data.list;\r\n\t\t\t\t\t\tthis.pullUpOn = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchange(e) {\r\n\t\t\t\t// 应该是要数据初始化的\r\n\t\t\t\tthis.dataList = [];\r\n\t\t\t\tthis.pages =  {\r\n\t\t\t\t\ttotal_count: 1,\r\n\t\t\t\t\tpage_count: 1,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tcurrent_page: 1\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.currentTab = e.index;\r\n\t\t\t\tthis.dataStatus = this.currentTab != 0 ? 2 : 0;\r\n\t\t\t\tthis.getDateList(_status, true);\r\n\t\t\t},\r\n\t\t\ttimeFormat(date) {\r\n\t\t\t\treturn moment(date).format(\"YYYY-MM-DD\");\r\n\t\t\t},\r\n\t\t\tnavTo() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/coupon/list'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 页面触底加载更多\r\n\t\tonReachBottom() {\r\n\t\t\tconsole.log(this.pages);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tthis.loadding = true\r\n\t\t\tthis.pullUpOn = true\r\n\t\t\tlet {\r\n\t\t\t\tcurrent_page,\r\n\t\t\t\tpage_count\r\n\t\t\t} = this.pages;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.loadding = false\r\n\t\t\t\tif (current_page >= page_count) {\r\n\t\t\t\t\tthis.pullUpOn = false\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.pages.current_page++;\r\n\t\t\t\tthis.getDateList();\r\n\t\t\t}, 1000)\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.app {\r\n\t\theight: 100%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.app-header {}\r\n\r\n\t.app-body {\r\n\r\n\t\t// padding: 24rpx 28rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\r\n\t\t.coupon-items {\r\n\r\n\t\t\tpadding: 30rpx 0;\r\n\r\n\t\t\t.coupon-item {\r\n\t\t\t\tbackground-size: cover !important;\r\n\t\t\t\twidth: 92%;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\theight: 190rpx;\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t.coupon-item-right {\r\n\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\twidth: 240rpx;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-price {\r\n\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\tmargin: 0 0 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-price-int {\r\n\t\t\t\t\tfont-size: 17pt;\r\n\t\t\t\t\tmargin: 0 2rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-condition {\r\n\t\t\t\t\tfont-size: 9pt;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-left {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tpadding: 6rpx 20rpx;\r\n\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t.tag {\r\n\t\t\t\t\t\twidth: 70rpx;\r\n\t\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t\t\tfont-size: 21px;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-name {\r\n\t\t\t\t\tfont-size: 10pt;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-time {\r\n\t\t\t\t\tfont-size: 9pt;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-receive {\r\n\t\t\t\t\tbackground: #BC0100;\r\n\t\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\t\t// padding: 6rpx 26rpx;\r\n\t\t\t\t\tline-height: 40rpx;\r\n\t\t\t\t\tmin-width: 100rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\tfont-size: 8pt;\r\n\t\t\t\t\tletter-spacing: 2rpx;\r\n\r\n\t\t\t\t\t.scale {\r\n\t\t\t\t\t\ttransform: scale(0.8);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-received {\r\n\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\tborder: 2rpx solid #BC0100;\r\n\t\t\t\t\tcolor: #BC0100;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.coupon-item-sub {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tcolor: #BC0100;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t\tfont-size: 60rpx;\r\n\t\t\t\t\tline-height: 60rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.app-footer {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0px;\r\n\t\tbackground: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tpadding: 26rpx 0;\r\n\t\tborder-top: 1px solid #e8e0e0;\r\n\t\tz-index: 9;\r\n\t\tfont-size: 12pt;\r\n\r\n\t\t.app-footer-icon {\r\n\t\t\twidth: 30rpx;\r\n\t\t\theight: 30rpx;\r\n\t\t\ttransform: rotate(-90deg);\r\n\t\t\tmargin-top: 4rpx;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./coupon.vue?vue&type=template&id=3bead984&scoped=true&\"\nvar renderjs\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./coupon.vue?vue&type=style&index=0&id=3bead984&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bead984\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/coupon/coupon.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=template&id=3bead984&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.couponStyle == 1\n      ? _vm.__map(_vm.couponData, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = _vm.picUrl(item.receive)\n          return {\n            $orig: $orig,\n            m0: m0\n          }\n        })\n      : null\n  var l1 =\n    _vm.couponStyle == 2\n      ? _vm.__map(_vm.couponData, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m1 = _vm.picUrl(item.receive)\n          return {\n            $orig: $orig,\n            m1: m1\n          }\n        })\n      : null\n  var l2 =\n    _vm.couponStyle == 3\n      ? _vm.__map(_vm.couponData, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m2 = _vm.backgroundUrl(item.receive)\n          return {\n            $orig: $orig,\n            m2: m2\n          }\n        })\n      : null\n  var l3 =\n    _vm.couponStyle == 4\n      ? _vm.__map(_vm.couponData, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m3 = item.type == 2 ? _vm.sub_price_int(item.sub_price) : null\n          var m4 = item.type == 2 ? _vm.sub_price_float(item.sub_price) : null\n          return {\n            $orig: $orig,\n            m3: m3,\n            m4: m4\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        l2: l2,\n        l3: l3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"root\">\r\n\t\t<scroll-view v-if=\"couponStyle == 1\" scroll-x=\"true\" class=\"scroll-view_H\">\r\n\t\t\t<view v-for=\"(item,index) in couponData\" :key='index' class=\"scroll-view-item_H\" :style=\"{'background': 'url('+picUrl(item.receive)+')'}\">\r\n\t\t\t\t<view class=\"flex\">\r\n\t\t\t\t\t<navigator url=\"\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<view class=\"price\">&yen;{{item.price}}</view>\r\n\t\t\t\t\t\t\t<view class=\"condition\">{{item.condition}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t\t<navigator url=\"\">\r\n\t\t\t\t\t\t<view class=\"right\" v-if=\"item.receive == 1\">已领取</view>\r\n\t\t\t\t\t\t<view class=\"right\" v-else>未领取</view>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\r\n\t\t<view class=\"couponBox\" v-if=\"couponStyle == 2\">\r\n\t\t\t<view class=\"coupon_title flex flex-y-bottom\">\r\n\t\t\t\t<view class=\"coupon_title_name\">优惠券</view>\r\n\t\t\t\t<view class=\"coupon_title_center\" @click=\"navTo\">领券中心</view>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-x=\"true\" class=\"scroll-view_H\">\r\n\t\t\t\t<view :style=\"{'background': 'url('+picUrl(item.receive)+')100% 100%'}\" class=\"scroll-view-item_H\" v-for=\"(item,index) in couponData\" :key='index'>\r\n\t\t\t\t\t<view class=\"flex\">\r\n\t\t\t\t\t\t<navigator url=\"\">\r\n\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t<view class=\"price\">&yen;{{item.price}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"condition\">{{item.condition}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t<navigator url=\"\">\r\n\t\t\t\t\t\t\t<view class=\"right\" v-if=\"item.receive == 1\" @click.stop=\"receive(index,item.receive)\">已领取</view>\r\n\t\t\t\t\t\t\t<view class=\"right\" v-else @click.stop=\"receive(index,item.receive)\">未领取</view>\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"couponStyle == 3\">\r\n\t\t\t<view class=\"couponStyle3 flex\" :style=\"{'background':'url('+backgroundUrl(item.receive)+') no-repeat 100% 100%'}\"\r\n\t\t\t v-for=\"(item,index) in couponData\" :key='index'>\r\n\t\t\t\t<view class=\"coupon-left\">\r\n\t\t\t\t\t<view class=\"shopName\">{{item.shopName}}></view>\r\n\t\t\t\t\t<view class=\"coupon_product_list flex\">\r\n\t\t\t\t\t\t<view class=\"coupon_product_item\" v-for=\"(items,indexs) in item.productList\" :key='indexs'>\r\n\t\t\t\t\t\t\t<image class=\"coupon_product_img\" :src=\"items.pic_url\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<view class=\"coupon_product_name\">&yen;{{items.pro_price}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"coupon-right flex flex-col\">\r\n\t\t\t\t\t<view class=\"coupon_price\" :class=\"item.receive?'coupon_price_received':''\"><text class=\"coupon_price_symbol coupon_price_symbol_received\">&yen;</text>{{item.coupon_price}}</view>\r\n\t\t\t\t\t<view class=\"coupon_condition\" :class=\"item.receive?'coupon_condition_received':''\">{{item.coupon_condition}}</view>\r\n\t\t\t\t\t<view class=\"coupon_btn\" :class=\"item.receive?'coupon_btn_received':''\">\r\n\t\t\t\t\t\t<text v-if=\"!item.receive\" @click=\"getCoupon(index,item.receive)\">立即领取</text>\r\n\t\t\t\t\t\t<text v-else @click=\"getCoupon(index,item.receive)\">去使用</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"couponStyle == 4\">\r\n\t\t\t<view class=\"coupon-item\" :style=\"{background: 'url('+couponImg+')'}\" v-for=\"(item,index) in couponData\">\r\n\t\t\t\t<view class=\"coupon-item-right\">\r\n\t\t\t\t\t<view class=\"coupon-item-price\">\r\n\t\t\t\t\t\t<view v-if=\"item.type == 2\">\r\n\t\t\t\t\t\t\t&yen;<text class=\"coupon-item-price-int\">{{sub_price_int(item.sub_price)}}</text>.{{sub_price_float(item.sub_price)}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t<text class=\"coupon-item-price-int\">{{(item.discount)*10}}</text>折\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"coupon-item-condition\">\r\n\t\t\t\t\t\t买满{{item.min_price}}可用\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"coupon-item-left\">\r\n\t\t\t\t\t<view class=\"coupon-item-name\">{{item.name}}</view>\r\n\t\t\t\t\t<view class=\"coupon-item-time\">\r\n\t\t\t\t\t\t<view v-if=\"item.expire_type == 2\">{{item.begin_at}}~{{item.end_at}}</view>\r\n\t\t\t\t\t\t<view v-else>还剩{{item.expire_day}}天过期</view>\r\n\t\t\t\t\t\t<view class=\"coupon-item-receive\" v-if=\"item.is_receive == 0\" @tap=\"receive(index,item.id)\" :style=\"{background:textColor}\">领取</view>\r\n\t\t\t\t\t\t<view class=\"coupon-item-receive coupon-item-received\" v-else>已领取</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <view class=\"coupon-item-sub iconfont icon-yilingqu\" v-if=\"item.is_receive != 0\"></view> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"coupon\",\r\n\t\tprops: {\r\n\t\t\tcouponStyle: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 2\r\n\t\t\t},\r\n\t\t\tcouponData: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpic_url1: 'http://store.hzstorm.com/web/statics/images/home-page/icon-coupon-index.png',\r\n\t\t\t\tpic_url2: 'http://store.hzstorm.com/web/statics/images/home-page/icon-coupon-no.png',\r\n\t\t\t\tsub_price: '125.23',\r\n\t\t\t\timg_url: this.$api.img_url,\r\n\t\t\t\tcouponImg:'https://jx.shuzixiangdao.com/web/static/couponBg.png',\t//默认背景图\r\n\t\t\t\ttextColor: '#bc0100',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet couponImg = this.globalSet('couponImg');\r\n\t\t\tcouponImg?this.couponImg = couponImg:'';\r\n\t\t\tthis.textColor = this.globalSet('textCol');\r\n\t\t},\r\n\t\t// onLoad() {\r\n\t\t// \tthis.sub_price = a;\r\n\t\t\t\r\n\t\t// },\r\n\t\tcomputed: {\r\n\t\t\tsub_price_int() {\r\n\t\t\t\treturn function(val) {\r\n\t\t\t\t\tvar arr = val.split('.');\r\n\t\t\t\t\treturn arr[0];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsub_price_float() {\r\n\t\t\t\treturn function(val) {\r\n\t\t\t\t\tvar arr = val.split('.');\r\n\t\t\t\t\tif (arr.length != 2) {\r\n\t\t\t\t\t\treturn '00'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn arr[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//领取优惠券\r\n\t\t\tgetCoupon(index, n) {\r\n\t\t\t\tthis.$emit('getCoupon', {\r\n\t\t\t\t\t'index': index,\r\n\t\t\t\t\t'receive': n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpicUrl(num) {\r\n\t\t\t\tif (num == 1) {\r\n\t\t\t\t\treturn this.pic_url2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.pic_url1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbackgroundUrl(val) {\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\treturn '../../static/images/search/couponReceived.png';\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '../../static/images/search/coupon.png';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavTo() {\r\n\t\t\t\tthis.$emit('click', {});\r\n\t\t\t},\r\n\t\t\treceive(index, id) {\r\n\t\t\t\tthis.$emit('receiveClick', {\r\n\t\t\t\t\tindex,\r\n\t\t\t\t\tid\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.scroll-view_H {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.scroll-view-item_H {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 256rpx;\r\n\t\theight: 130rpx;\r\n\t\tbackground-size: cover !important;\r\n\t\tpadding: 0px 12rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-right: 6rpx;\r\n\r\n\t\t.flex {\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t.left {\r\n\t\twidth: 176rpx;\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\r\n\t\t.price {\r\n\t\t\tfont-size: 38rpx;\r\n\t\t\theight: 84rpx;\r\n\t\t\tline-height: 84rpx;\r\n\t\t}\r\n\r\n\t\t.condition {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.right {\r\n\t\twidth: 56rpx;\r\n\t\theight: 100%;\r\n\t\twriting-mode: tb-rl;\r\n\t\ttext-align: center;\r\n\t\tcolor: white;\r\n\t\tfont-size: 24rpx;\r\n\t\tletter-spacing: 8rpx;\r\n\t}\r\n\r\n\t.couponBox {\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 30rpx 16rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.couponStyle3 {\r\n\t\tbackground-size: 100% 100%;\r\n\t\theight: 240rpx;\r\n\t\tpadding: 18rpx 16rpx 0px;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 94%;\r\n\t\tmargin: 0 auto 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.coupon-left {\r\n\t\twidth: 480rpx;\r\n\t}\r\n\r\n\t.coupon_title {\r\n\t\tpadding-bottom: 20rpx;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.coupon_title_name {\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 34rpx;\r\n\t\tletter-spacing: 2rpx;\r\n\t}\r\n\r\n\t.coupon_title_center {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #8c8c8c;\r\n\t}\r\n\r\n\t.coupon_product_item {\r\n\t\tmargin-right: 24rpx;\r\n\t}\r\n\r\n\t.shopName {\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.coupon_product_img {\r\n\t\twidth: 140rpx;\r\n\t\theight: 130rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.coupon_product_name {\r\n\t\tfont-size: 26rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #939393;\r\n\t}\r\n\r\n\t.coupon-right {\r\n\t\twidth: 178rpx;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 20rpx 0px 32rpx;\r\n\t}\r\n\r\n\t.coupon_price {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 38rpx;\r\n\t\tcolor: #ff333a;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.coupon_price_symbol {\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-right: 4rpx;\r\n\t}\r\n\r\n\t.coupon_condition {\r\n\t\tfont-size: 26rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #ff333a;\r\n\t}\r\n\r\n\t.coupon_btn {\r\n\t\twidth: 156rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tfont-size: 24rpx;\r\n\t\tbackground: #ff333a;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tletter-spacing: 4rpx;\r\n\t\tfont-weight: 300;\r\n\t\tpadding: 6rpx 0;\r\n\t\tborder-radius: 26rpx;\r\n\t}\r\n\r\n\t.coupon_price_received,\r\n\t.coupon_symbol_received,\r\n\t.coupon_condition_received {\r\n\t\tcolor: #b0b0b0;\r\n\t}\r\n\r\n\t.coupon_btn_received {\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground: #b0b0b0;\r\n\t}\r\n\r\n\t.coupon-item {\r\n\t\tbackground-size: cover !important;\r\n\t\twidth: 92%;\r\n\t\tmargin: auto;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\theight: 190rpx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.coupon-item-right {\r\n\t\tcolor: #FFFFFF;\r\n\t\twidth: 240rpx;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.coupon-item-price {\r\n\t\tfont-weight: 700;\r\n\t\tmargin: 0 0 8rpx;\r\n\t}\r\n\r\n\t.coupon-item-price-int {\r\n\t\tfont-size: 17pt;\r\n\t\tmargin: 0 2rpx;\r\n\t}\r\n\r\n\t.coupon-item-condition {\r\n\t\tfont-size: 9pt;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.coupon-item-left {\r\n\t\tflex: 1;\r\n\t\tcolor: #000000;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 6rpx 20rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.coupon-item-name {\r\n\t\tfont-size: 10pt;\r\n\t}\r\n\r\n\t.coupon-item-time {\r\n\t\tfont-size: 9pt;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.coupon-item-receive {\r\n\t\tbackground: #BC0100;\r\n\t\tborder-radius: 30rpx;\r\n\t\t// padding: 6rpx 26rpx;\r\n\t\tline-height: 40rpx;\r\n\t\tmin-width: 100rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 8pt;\r\n\t\tletter-spacing: 2rpx;\r\n\t}\r\n\r\n\t.coupon-item-received {\r\n\t\tbackground: transparent;\r\n\t\tborder: 2rpx solid #BC0100;\r\n\t\tcolor: #BC0100;\r\n\t}\r\n\r\n\t.coupon-item-sub {\r\n\t\tposition: absolute;\r\n\t\tcolor: #BC0100;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tfont-size: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t}\r\n</style>\r\n\r\n<!-- 样式三的数据 -->\r\n<!-- couponData:[\r\n\t{\r\n\t\treceive:true, //true为已领取 false为未领取\r\n\t\tshopName:'华为旗舰店',\r\n\t\tproductList:[\r\n\t\t\t{\r\n\t\t\t\tpic_url:'http://img.alicdn.com/imgextra/i1/742634735/TB2.peMXwCN.eBjSZFoXXXj0FXa_!!742634735.jpg',\r\n\t\t\t\tpro_price:'50'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpic_url:'http://img.alicdn.com/imgextra/i4/2142747419/O1CN01FWniwm24fwucTTgIY_!!2142747419.jpg',\r\n\t\t\t\tpro_price:'320'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpic_url:'http://store.hzstorm.com/web/uploads/image/store_1/07cd6e2851b960a2738835d2effb4f4c5c37f533.jpg',\r\n\t\t\t\tpro_price:'96'\r\n\t\t\t},\r\n\t\t],\r\n\t\tcoupon_price:'100',\r\n\t\tcoupon_condition:'满9000可用'\r\n\t},\r\n\t{\r\n\t\treceive:false, //true为已领取 false为未领取\r\n\t\tshopName:'oppo旗舰店',\r\n\t\tproductList:[\r\n\t\t\t{\r\n\t\t\t\tpic_url:'http://img.alicdn.com/imgextra/i1/742634735/TB2.peMXwCN.eBjSZFoXXXj0FXa_!!742634735.jpg',\r\n\t\t\t\tpro_price:'50'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpic_url:'http://img.alicdn.com/imgextra/i4/2142747419/O1CN01FWniwm24fwucTTgIY_!!2142747419.jpg',\r\n\t\t\t\tpro_price:'320'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpic_url:'http://store.hzstorm.com/web/uploads/image/store_1/07cd6e2851b960a2738835d2effb4f4c5c37f533.jpg',\r\n\t\t\t\tpro_price:'96'\r\n\t\t\t},\r\n\t\t],\r\n\t\tcoupon_price:'50',\r\n\t\tcoupon_condition:'满900可用'\r\n\t},\r\n], -->\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&id=3bead984&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&id=3bead984&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610955368601\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&id=e01bd4b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&id=e01bd4b8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610955368439\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}