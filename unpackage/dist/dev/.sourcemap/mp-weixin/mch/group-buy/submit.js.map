{"version":3,"sources":["uni-app:///main.js","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/mch/group-buy/submit.vue?9b72","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/mch/group-buy/submit.vue?54b0","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/mch/group-buy/submit.vue?56c5","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/mch/group-buy/submit.vue?46e8","uni-app:///mch/group-buy/submit.vue","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/mch/group-buy/submit.vue?f383","webpack:////Users/apple/wwwweb/gongsi_sc/公司文件/前端代码/前端/mch/group-buy/submit.vue?25d0"],"names":["createPage","Page"],"mappings":"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CA;;AAyCA;AACA;AACA;AACA,qCADA,CACA;AACA,iCAFA,CAEA;AACA,WAHA,MAGA;AACA,sCADA,CACA;AACA,iCAFA,CAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAzEA,MAyEA;AACA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA,OA9FA;AA+FA,KAtHA;AAuHA,cAvHA,wBAuHA;AACA;AACA,yCADA;AAEA;AACA,4BADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA,OATA;AAUA,KAlIA;AAmIA,aAnIA,qBAmIA,GAnIA,EAmIA,KAnIA,EAmIA,MAnIA,EAmIA,QAnIA,EAmIA;AACA;AACA;AACA;AACA,sCAJA,CAIA;;AAEA;AACA;AACA,KA3IA;AA4IA,aA5IA,uBA4IA;AACA;AACA,KA9IA;AA+IA,aA/IA,qBA+IA,IA/IA,EA+IA,KA/IA,EA+IA,cA/IA,EA+IA;AACA;AACA,uCADA,EACA;AACA,yDAFA,EAEA;AACA,6CAHA,CADA,CAIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;;AAEA;AACA;AACA;AACA;AACA;AACA,SALA;;AAOA;AACA,uBArBA,CAqBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OA7BA,MA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAPA;AAQA;AACA,6BAXA,CAWA;AACA;AACA;AACA;AACA,SAzBA;AA0BA;AACA;AACA;AACA;AACA;;AAEA,kEANA,CAMA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,WADA;AAEA,SAHA,MAGA;AACA;AACA,WADA;AAEA;;AAEA;AACA,uBAzDA,CAyDA;;AAEA;;AAEA;AACA;AACA,OAFA;AAGA,mDAnGA,CAmGA;AACA,6CApGA,CAoGA;;AAEA;AACA;AACA,KAvPA;;AAyPA,kBAzPA,4BAyPA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KA/PA;AAgQA,cAhQA,wBAgQA;AACA;AACA;AACA,0DADA;;AAGA,OAJA,MAIA;AACA;AACA,mDADA;;AAGA;AACA,KA1QA;AA2QA;AACA,UA5QA,oBA4QA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAvBA,CAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAFA;AAGA,sBAHA;AAIA;AACA;AACA,qBADA;AAEA,wCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA;AACA,kCADA,GAPA;;AAUA,iDAVA,GADA;;AAaA,iFAbA;AAcA,4CAdA;AAeA,cAfA,CAJA;;AAqBA,UArBA,CAqBA;AACA,kCADA,CACA;AACA;AACA;AACA;AACA;AACA,kMAFA;;;AAKA,SAPA,MAOA;AACA;AACA;AACA,OAjCA;AAkCA,KA1UA,EAzEA,E;;;;;;;;;;;;;AChKA;AAAA;AAAA;AAAA;AAA2tC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACA/uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"mch/group-buy/submit.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './mch/group-buy/submit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./submit.vue?vue&type=template&id=3045d93a&\"\nvar renderjs\nimport script from \"./submit.vue?vue&type=script&lang=js&\"\nexport * from \"./submit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"mch/group-buy/submit.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submit.vue?vue&type=template&id=3045d93a&\"","var components\ntry {\n  components = {\n    comNavBar: function() {\n      return import(\n        /* webpackChunkName: \"components/com/com-nav-bar/com-nav-bar\" */ \"@/components/com/com-nav-bar/com-nav-bar.vue\"\n      )\n    },\n    comBottomPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/com/com-bottom-popup/com-bottom-popup\" */ \"@/components/com/com-bottom-popup/com-bottom-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l2 = _vm.__map(_vm.list, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var l1 = _vm.__map(item.same_goods_list, function(its, ids) {\n      var $orig = _vm.__get_orig(its)\n\n      var l0 = _vm.__map(its.goods_list, function(gItem, gIndex) {\n        var $orig = _vm.__get_orig(gItem)\n\n        var m0 = _vm.groupName(gItem.attr_list)\n        return {\n          $orig: $orig,\n          m0: m0\n        }\n      })\n\n      return {\n        $orig: $orig,\n        l0: l0\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l1: l1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l2: l2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submit.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<com-nav-bar @clickLeft=\"back\" left-icon=\"back\" title=\"提交订单\" :status-bar=\"true\" background-color=\"#ffffff\" :border=\"false\" color=\"#000000\"></com-nav-bar>\n\t\t<view class=\"tui-box\">\n\t\t\t<!-- 收货地址 -->\n\t\t\t<tui-list-cell :arrow=\"true\" :last=\"true\" :radius=\"true\" @click=\"chooseAddr\">\n\t\t\t\t<view class=\"tui-address\">\n\t\t\t\t\t<view v-if=\"user_address.length != 0\">\n\t\t\t\t\t\t<view class=\"tui-userinfo\">\n\t\t\t\t\t\t\t<text class=\"tui-name\">{{user_address.name}}</text> {{user_address.mobile}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"tui-addr\">\n\t\t\t\t\t\t\t<text>{{user_address.province}}{{user_address.city}}{{user_address.district}}{{user_address.detail}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"tui-none-addr\" v-else>\n\t\t\t\t\t\t<text>请添加收货地址</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</tui-list-cell>\n\t\t\t<!-- 收货地址 -->\n\n\t\t\t<!-- 商品详情 -->\n\t\t\t<!-- 0.1 循环出商家 -->\n\t\t\t<view class=\"tui-top tui-goods-info\" v-for=\"(item,index) in list\" :key='index'>\n\t\t\t\t<!-- 0.2 循环出商品 -->\n\t\t\t\t<view v-for=\"(its,ids) in item.same_goods_list\" class=\"item-goods\">\n\t\t\t\t\t<!-- 0.3 循环出规格 -->\n\t\t\t\t\t<view v-for=\"(gItem,gIndex) in its.goods_list\">\n\t\t\t\t\t\t<tui-list-cell :hover=\"false\" padding=\"0\">\n\t\t\t\t\t\t\t<view class=\"tui-goods-item\">\n\t\t\t\t\t\t\t\t<image v-if=\"\" :src=\"gItem.goods_attr.pic_url?gItem.goods_attr.pic_url:gItem.goods_attr.cover_pic\" class=\"tui-goods-img\"></image>\n\t\t\t\t\t\t\t\t<view class=\"tui-goods-center\">\n\t\t\t\t\t\t\t\t\t<view class=\"tui-goods-name\">{{gItem.name}}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"tui-goods-attr\">{{groupName(gItem.attr_list)}}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"tui-price-right\">\n\t\t\t\t\t\t\t\t\t<view>￥{{gItem.unit_price}}</view>\n\t\t\t\t\t\t\t\t\t<view>x{{gItem.num}}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</tui-list-cell>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 0.2.1 该商品对应的优惠券 -->\n\t\t\t\t\t<view style=\"border-bottom: 2rpx solid #e8e8e8;\" v-if=\"its.coupon_list.length != 0\" @tap=\"showPopup(its.coupon_list,index,ids,its.goods_id)\">\n\t\t\t\t\t\t<tui-list-cell :arrow=\"hasCoupon\" :hover=\"hasCoupon\">\n\t\t\t\t\t\t\t<view class=\"tui-padding tui-flex\">\n\t\t\t\t\t\t\t\t<view>优惠券</view>\n\t\t\t\t\t\t\t\t<view :class=\"{'tui-color-red':hasCoupon}\" :style=\"{color:hasCoupon ? textColor :''}\">{{its.coupon_name}}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</tui-list-cell>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t</view>\n\t\t\t\t<tui-list-cell :hover=\"false\">\n\t\t\t\t\t<view class=\"tui-padding tui-flex\">\n\t\t\t\t\t\t<view>配送方式</view>\n\t\t\t\t\t\t<view v-if=\"item.delivery.send_type == 'express'\">快递配送</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<tui-list-cell :hover=\"false\">\n\t\t\t\t\t<view class=\"tui-padding tui-flex\">\n\t\t\t\t\t\t<view>配送费</view>\n\t\t\t\t\t\t<view v-if=\"list\" :style=\"{color: textColor}\">+&yen;{{item.express_price}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<tui-list-cell :hover=\"false\" v-if=\"item.total_full_relief_price != 0\">\n\t\t\t\t\t<view class=\"tui-padding tui-flex\">\n\t\t\t\t\t\t<view>满额减免</view>\n\t\t\t\t\t\t<view v-if=\"list\" :style=\"{color: textColor}\">-&yen;{{item.total_full_relief_price || 0}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<tui-list-cell :hover=\"false\" :lineLeft=\"false\" padding=\"0\">\n\t\t\t\t\t<view class=\"tui-remark-box tui-padding tui-flex\">\n\t\t\t\t\t\t<view>订单备注</view>\n\t\t\t\t\t\t<input type=\"text\" class=\"tui-remark\" placeholder=\"选填: 请先和商家协商一致\" placeholder-class=\"tui-phcolor\" v-model=\"remark\"></input>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t\t<tui-list-cell :hover=\"false\" :last=\"true\">\n\t\t\t\t\t<view class=\"tui-padding tui-flex tui-total-flex\">\n\t\t\t\t\t\t<view class=\"tui-flex-end tui-color-red\" :style=\"{color:textColor}\">\n\t\t\t\t\t\t\t<view class=\"tui-black\">小计： </view>\n\t\t\t\t\t\t\t<view class=\"tui-size-26\">￥</view>\n\t\t\t\t\t\t\t<view class=\"tui-price-large\">{{item.total_price}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</tui-list-cell>\n\t\t\t</view>\n\n\t\t\t<view class=\"use-points flex flex-y-center flex-x-between\" v-if=\"score_enable == 1\">\n\t\t\t\t<view>使用积分</view>\n\t\t\t\t<switch :checked=\"is_checked\" @change=\"use\" :color='textColor' class=\"points-switch\" />\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!--优惠券底部选择层-->\n\t\t<com-bottom-popup :show=\"popupShow2\" @close=\"hidePopup\">\n\t\t\t<scroll-view scroll-y=\"true\" style=\"max-height: 1000rpx;\">\n\t\t\t\t<view class=\"coupon-box\">\n\t\t\t\t\t<view class=\"coupon-title2\">\n\t\t\t\t\t\t优惠券\n\t\t\t\t\t\t<view class=\"coupon-icon iconfont icon-guanbi\" @tap=\"hidePopup\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view style=\"height: 120rpx\"></view>\n\t\t\t\t\t<!-- <view class=\"coupon-tips\">领取优惠券购买</view> -->\n\t\t\t\t\t<view class=\"coupon-content\">\n\t\t\t\t\t\t<view class=\"coupon-item\" :style=\"{background: 'url('+img_url+'couponBg.png)no-repeat'}\" v-for=\"(cItem,cIndex) in coupon_list\"\n\t\t\t\t\t\t :key=\"cIndex\">\n\t\t\t\t\t\t\t<view class=\"coupon-item-left\">\n\t\t\t\t\t\t\t\t<view class=\"coupon-item-price\">\n\t\t\t\t\t\t\t\t\t<block v-if=\"cItem.type == 2\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"price-symbol\">&yen;</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"price-int\">{{cItem.sub_price}}</text>\n\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t\t\t\t<text class=\"price-int\">{{cItem.discount*10}}</text>\n\t\t\t\t\t\t\t\t\t\t<text>折</text>\n\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"coupon-item-condition\">\n\t\t\t\t\t\t\t\t\t满{{cItem.coupon_min_price}}可用\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"coupon-item-right\">\n\t\t\t\t\t\t\t\t<view class=\"coupon-item-name\">{{cItem.coupon_data.name}}</view>\n\t\t\t\t\t\t\t\t<view class=\"coupon-item-time\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"cItem.coupon_data.expire_type == 1\">领取{{cItem.coupon_data.expire_day}}天后过期</view>\n\t\t\t\t\t\t\t\t\t<view v-else>{{cItem.coupon_data.begin_at}}~{{cItem.coupon_data.end_at}}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"receive\" :style=\"{background:textColor}\" @tap=\"useCoupon('use',cIndex,cItem.id)\" v-if=\"cItem.is_use == 0\">使用</view>\n\t\t\t\t\t\t\t\t\t<view class=\"receive receive-col\" @tap=\"useCoupon('notUse',cIndex,cItem.id)\" :style=\"{border:'1px solid'+textColor,color:textColor}\" v-else>不使用</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</com-bottom-popup>\n\t\t<!--优惠券底部选择层-->\n\n\t\t<view class=\"tui-safe-area\"></view>\n\n\t\t<view class=\"tui-tabbar\">\n\t\t\t<view class=\"tui-tabbar-box flex flex-x-between flex-y-center\">\n\t\t\t\t<view class=\"tui-flex-end tui-color-red tui-pr-20\" :style={color:textColor}>\n\t\t\t\t\t<view class=\"tui-black\">合计: </view>\n\t\t\t\t\t<view class=\"tui-size-26\">￥</view>\n\t\t\t\t\t<!-- <view class=\"tui-price-large\" v-if=\"is_checked\">{{total_score}}</view> -->\n\t\t\t\t\t<view class=\"tui-price-large\">{{total_price}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"tui-pr25\" @tap=\"btnPay\" :style=\"{background:textColor}\">\n\t\t\t\t\t去支付\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t</view>\n</template>\n\n<script>\n\timport tuiListCell from \"@/components/list-cell/list-cell\"\n\texport default {\n\t\tcomponents: {\n\t\t\ttuiListCell,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\timg_url: this.$api.img_url,\n\t\t\t\thasCoupon: true,\n\t\t\t\tinsufficient: false,\n\t\t\t\tlist: '', //商品数据\n\t\t\t\taddressId: 0, //地址栏ID\n\t\t\t\tuser_address: '', //用户地址\n\t\t\t\tpopupShow2: false, //优惠券弹窗是否显示\n\t\t\t\tcoupon_list: [], //当前优惠券列表\n\t\t\t\tcoupon_name: '', //优惠券名字\n\t\t\t\tcoupon_index: -1, //优惠券索引\n\t\t\t\tcoupon_id: 0, //优惠券id\n\t\t\t\tuser_coupon: '', //用户所能用的全部优惠券\n\t\t\t\tshop_index: 0, //店铺索引\n\t\t\t\tgoods_index: 0, //商品索引\n\t\t\t\tremark: '', //订单备注\n\t\t\t\tsendData: '', //本地缓存读取的商品数据\n\t\t\t\tsubSendData: '', //发给后台的数据\n\t\t\t\tuse_coupon_list : [],//已使用优惠券列表\n\t\t\t\tcoupon_goods_id:'',//当前弹窗是否使用优惠券的商品id\n\t\t\t\ttotal_price: 0, //合计的总价格\n\t\t\t\tscore_enable: 0, //是否显示使用积分\n\t\t\t\tis_checked: false, //是否打开使用积分\n\t\t\t\tuse_score : 0,\t//是否使用积分(请求用)\n\t\t\t\t\n\t\t\t\ttotal_score: 0, //使用了的积分抵扣的钱\n\t\t\t\ttotal_score_use: 0, //总共可使用的积分\n\n\t\t\t\tis_request: false,\n\t\t\t\ttextColor:'#bc0100',\n\t\t\t\tcouponImg : '',\t// \n\t\t\t\tactive_id : '',\t//拼团id\n\t\t\t\tgoods_id : '',\t//商品id\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tthis.textColor = this.globalSet('textCol');\t//获取到全局颜色\n\t\t\tthis.couponImg = this.globalSet('couponImg');\t//优惠券背景图\n\t\t\t\t\n\t\t\tthis.goods_id = options.goods_id;\n\t\t\tif (options.addressId) { //如果有地址id在请求地址接口，如果没有则用默认的地址\n\t\t\t\tthis.addressId = options.addressId;\n\t\t\t\tthis.getAddress();\n\t\t\t}else{\n\t\t\t\tthis.addressId = 0;\n\t\t\t}\n\t\t\tthis.active_id = options.active_id;\n\t\t\tconsole.log('拼团Id:'+this.active_id);\n\t\t\t// 这里是获取订单数据缓存\n\t\t\tthis.sendData = uni.getStorageSync('orderData');\n\t\t\t// console.log(uni.getStorageSync('orderData'));\n\t\t\tthis.getData();\n\t\t\t\n\t\t},\n\t\tonBackPress(e) {\n\t\t\tuni.removeStorageSync('orderData');\n\t\t},\n\t\tcomputed: {\n\t\t\tgroupName() {\n\t\t\t\treturn function(val) {\n\t\t\t\t\tvar str = '';\n\t\t\t\t\tval.forEach((item) => {\n\t\t\t\t\t\tstr = str + item.attr_name;\n\t\t\t\t\t})\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tback(){\n\t\t\t\tthis.navBack();\n\t\t\t},\n\t\t\t\n\t\t\t// 使用积分\n\t\t\tuse(e) {\n\t\t\t\tthis.is_checked = e.detail.value;\n\t\t\t\tthis.is_checked?this.use_score=1:this.use_score=0;\t//是否使用积分(请求用)\n\t\t\t\tconsole.log(this.is_checked);\n\t\t\t\tthis.getData();\t//重新获取订单详情\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.total_score_use = 0;\n\t\t\t\tthis.list.forEach((item) => {\n\t\t\t\t\tthis.total_score_use = this.total_score_use + (item.score.deduction_price) * 1;\n\t\t\t\t})\n\t\t\t\tthis.total_score = (this.total_price - this.total_score_use).toFixed(2);\n\t\t\t\t// this.is_checked = e.detail.value;\n\t\t\t},\n\t\t\t\n\t\t\t// 0.1 获取订单页面数据\n\t\t\tgetData() { \n\t\t\t\tthis.$http.request({\n\t\t\t\t\turl: this.$api.plugin.group.to_submit_order,\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tshowLoading: true,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tlist: [{\n\t\t\t\t\t\t\tmch_id: 0,\n\t\t\t\t\t\t\tgoods_list: this.sendData,\n\t\t\t\t\t\t\tuse_coupon_list:this.use_coupon_list\t//已使用优惠券列表\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tuser_address_id: this.addressId,\n\t\t\t\t\t\tuse_score: this.use_score,\t//是否使用积分\n\t\t\t\t\t}\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tconsole.log(res, 'resssssssssssssssssssssss');\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet resList = res.data.list\n\t\t\t\t\t\tresList.forEach((item) => {\n\t\t\t\t\t\t\tlet that = this;\n\t\t\t\t\t\t\t// 0.0.1 先初始化所有选中的优惠券\n\t\t\t\t\t\t\tthat.use_coupon_list = [];\n\t\t\t\t\t\t\tif(item.same_goods_list&&item.same_goods_list.length>0){\n\t\t\t\t\t\t\t\titem.same_goods_list.forEach((its,ids) => {\n\t\t\t\t\t\t\t\t\tits['coupon_name'] = '请选择优惠券';\n\t\t\t\t\t\t\t\t\t// gItem['sale_price'] = gItem.total_price * 1;\n\t\t\t\t\t\t\t\t\tits.coupon_list.forEach((couponItem,couponIndex) => {\n\t\t\t\t\t\t\t\t\t\t// 0.0.2应该是要先初始化当前商品对应的优惠券数据-先移除再添加\n\t\t\t\t\t\t\t\t\t\tcouponItem.is_use = 0;\t\n\t\t\t\t\t\t\t\t\t\t// if(that.coupon_goods_id ==its.goods_id){\n\t\t\t\t\t\t\t\t\t\t// \tthat.use_coupon_list.forEach((item,listIndex) => {\n\t\t\t\t\t\t\t\t\t\t// \t\tif(item.user_coupon_id==couponItem.id){\n\t\t\t\t\t\t\t\t\t\t// \t\t\t// 移除原先被选中的优惠券\n\t\t\t\t\t\t\t\t\t\t// \t\t\tthat.use_coupon_list.splice(listIndex,1);\n\t\t\t\t\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t\t\t\t\t// \t// its.coupon_name = '不使用优惠券';\n\t\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif(its.usable_user_coupon_id&&its.usable_user_coupon_id!=0&&its.usable_user_coupon_id==couponItem.id){\t//如果这里使用了优惠券\n\t\t\t\t\t\t\t\t\t\t\t// 0.0.3被选中的优惠券切换状态，同时追加到所有使用的优惠券列表中\n\t\t\t\t\t\t\t\t\t\t\tlet couponObj = {};\n\t\t\t\t\t\t\t\t\t\t\tcouponObj['goods_id'] = its.goods_id;\n\t\t\t\t\t\t\t\t\t\t\tcouponObj['user_coupon_id'] = couponItem.id;\n\t\t\t\t\t\t\t\t\t\t\tcouponItem.is_use = 1;\t//切换对应优惠券列表中对应优惠券的is_use状态\n\t\t\t\t\t\t\t\t\t\t\tthat.use_coupon_list.push(couponObj);\n\t\t\t\t\t\t\t\t\t\t\tits.coupon_name = couponItem.coupon_data.name;\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(that.use_coupon_list);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// 重复或不能使用优惠券的提示语\n\t\t\t\t\t\t\t\t\t\tif(its.coupon.coupon_error!=''){\n\t\t\t\t\t\t\t\t\t\t\tits.coupon_name = its.coupon.coupon_error;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.list = resList;\n\t\t\t\t\t\tthis.score_enable = res.data.score_enable;\n\t\t\t\t\t\tif(this.list[0].score.use){\n\t\t\t\t\t\t\tthis.is_checked = true; //是否打开使用积分\n\t\t\t\t\t\t\tthis.use_score = 1;\t//是否使用积分(请求用)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.is_checked = false; //是否打开使用积分\n\t\t\t\t\t\t\tthis.use_score = 0;\t//是否使用积分(请求用)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// this.total_use_score_price = res.data.total_use_score_price;\n\t\t\t\t\t\t// this.sendData.forEach((item) => { //给发往后台的数据添加优惠券id字段\n\t\t\t\t\t\t// \titem.user_coupon_id = 0;\n\t\t\t\t\t\t// })\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 这里是提交订单需要的数据\n\t\t\t\t\t\tthis.subSendData = JSON.parse(JSON.stringify(this.sendData));\n\t\t\t\t\t\tthis.user_coupon = res.data.user_coupon[0];\n\t\t\t\t\t\t\n\n\t\t\t\t\t\tif (!this.addressId) {\n\t\t\t\t\t\t\tthis.user_address = res.data.user_address;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.calcTotalPrice();\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 这里后台返回了总价\n\t\t\t\t\t\tthis.total_price = res.data.total_price;\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(res, 'ressssssssss');\n\t\t\t\t\t\tthis.$http.toast(res.msg);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t\t}, 1500)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetAddress() { //地址栏数据\n\t\t\t\tthis.$http.request({\n\t\t\t\t\turl: this.$api.user.addressDetail,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: this.addressId\n\t\t\t\t\t}\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tthis.user_address = res.data;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tshowPopup(val, index, gIndex,goods_id) { //显示商品优惠券弹窗\n\t\t\t\t//index是店铺索引，gIndex是商品索引\n\t\t\t\tthis.shop_index = index;\n\t\t\t\tthis.goods_index = gIndex;\n\t\t\t\tthis.coupon_goods_id = goods_id;\t//定位是哪个商品想要使用优惠券\n\n\t\t\t\tthis.coupon_list = val;\n\t\t\t\tthis.popupShow2 = true;\n\t\t\t},\n\t\t\thidePopup() { //关闭优惠券底部弹窗\n\t\t\t\tthis.popupShow2 = false;\n\t\t\t},\n\t\t\tuseCoupon(name, index, user_coupon_id) { //优惠券使用\n\t\t\t\tvar subtotal = 0, //小计\n\t\t\t\t\tlist = this.list[this.shop_index], //所点击的店铺的数据\n\t\t\t\t\tgoods_list = list.same_goods_list[this.goods_index], //所点击的商品的数据\n\t\t\t\t\tcoupon_detail = this.coupon_list[index]; //点击的优惠券的数据\n\n\t\t\t\tif (name == 'notUse') { //判断是否使用优惠券\n\t\t\t\t\tgoods_list.sale_price = goods_list.total_price * 1;\n\t\t\t\t\t// this.subSendData[this.goods_index].user_coupon_id = 0;\n\t\t\t\t\t\n\t\t\t\t\tlet that = this;\n\t\t\t\t\tthat.use_coupon_list.forEach((item,listIndex) => {\n\t\t\t\t\t\tif(item.user_coupon_id==user_coupon_id){\n\t\t\t\t\t\t\t// 移除原先被选中的优惠券\n\t\t\t\t\t\t\tthat.use_coupon_list.splice(listIndex,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tgoods_list.coupon_name = '不使用优惠券';\n\t\t\t\t\t\n\t\t\t\t\tthat.coupon_list.forEach((its,ids) => {\n\t\t\t\t\t\tif(its.id==user_coupon_id){\n\t\t\t\t\t\t\tits.is_use ='0';\t\n\t\t\t\t\t\t\tthat.$set(that.coupon_list[ids], 'is_use', '0');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 重新获取订单详情\n\t\t\t\t\tthat.getData();\t//重新获取订单详情\n\t\t\t\t\t\n\t\t\t\t\t// for (var key in that.user_coupon) { //判断是否使用相同的优惠券\n\t\t\t\t\t// \tif (that.user_coupon[key].id == coupon_detail.id) {\n\t\t\t\t\t// \t\tthat.user_coupon[key].is_use = '0';\n\t\t\t\t\t// \t\tcoupon_detail.is_use = '0';\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\t\t\t\t} else {\t//使用优惠券的情况\n\t\t\t\t\tlet self = this;\n\t\t\t\t\tlet isInClude = false;\n\t\t\t\t\t//往发送给后台数据添加优惠券id\n\t\t\t\t\t// 0.3 定位商品id与优惠券id\n\t\t\t\t\tlet couponObj = {};\n\t\t\t\t\tcouponObj['goods_id'] = self.coupon_goods_id;\n\t\t\t\t\tcouponObj['user_coupon_id'] = user_coupon_id;\n\t\t\t\t\t// 循环当前优惠券列表\n\t\t\t\t\tself.coupon_list.forEach((its,ids) => {\n\t\t\t\t\t\tif(self.use_coupon_list.length>0){\t//判断已使用的优惠券列表中是否已经存在\n\t\t\t\t\t\t\tself.use_coupon_list.forEach((item,listIndex) => {\n\t\t\t\t\t\t\t\tif(item.user_coupon_id==user_coupon_id){\t//存在于已使用的优惠券列表中\n\t\t\t\t\t\t\t\t\tself.$http.toast('不能选择相同的优惠券');\n\t\t\t\t\t\t\t\t\tisInClude = true;\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(its.is_use ==1){\t//如果之前有被选中的，初始化\n\t\t\t\t\t\t\tif(self.use_coupon_list.length>0){\t\n\t\t\t\t\t\t\t\tself.use_coupon_list.forEach((item,listIndex) => {\n\t\t\t\t\t\t\t\t\tif(item.user_coupon_id==its.id){\n\t\t\t\t\t\t\t\t\t\t// 移除原先被选中的优惠券\n\t\t\t\t\t\t\t\t\t\tself.use_coupon_list.splice(listIndex,1);\n\t\t\t\t\t\t\t\t\t\tconsole.log(self.use_coupon_list);\n\t\t\t\t\t\t\t\t\t\tconsole.log(its.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tits.is_use ='0';\t//先全部置0\n\t\t\t\t\t\t\tself.$set(self.coupon_list[ids], 'is_use', '0');\n\t\t\t\t\t\t\t// 在设置选中状态\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif(!isInClude){\n\t\t\t\t\t\t// 现在被选中的切换状态，追加到已使用的优惠券列表中\n\t\t\t\t\t\tself.coupon_list[index].is_use = '1';\n\t\t\t\t\t\tself.$set(self.coupon_list[index], 'is_use', '1');\n\t\t\t\t\t\tself.use_coupon_list.push(couponObj);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgoods_list.coupon_name = coupon_detail.coupon_data.name; //获取优惠券名\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t\t// total_price当前商品的价格\n\t\t\t\t\t// type == '1'折扣，type == '2'满减\n\t\t\t\t\tif (coupon_detail.type == '1') { //计算使用优惠券后价格\n\t\t\t\t\t\tgoods_list.sale_price = (((goods_list.total_price * 1) * (coupon_detail.coupon_data.discount * 1)).toFixed(2)) *\n\t\t\t\t\t\t\t1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgoods_list.sale_price = (((goods_list.total_price * 1) - (coupon_detail.coupon_data.sub_price * 1)).toFixed(2)) *\n\t\t\t\t\t\t\t1;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 重新获取订单详情\n\t\t\t\t\tself.getData();\t//重新获取订单详情\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tlist.goods_list.forEach((item) => { //计算小计\n\t\t\t\t\tsubtotal = subtotal + item.sale_price;\n\t\t\t\t})\n\t\t\t\tsubtotal = subtotal + list.express_price * 1; //加上运费\n\t\t\t\tlist.total_price = subtotal.toFixed(2); //将计算好的值,并保留两位小数，赋给对象里面的数据响应式更新视图\n\n\t\t\t\tthis.calcTotalPrice();\n\t\t\t\tthis.hidePopup();\n\t\t\t},\n\t\t\t\n\t\t\tcalcTotalPrice() { //计算总价\n\t\t\t\tthis.total_price = 0;\n\t\t\t\tthis.list.forEach((item) => {\n\t\t\t\t\tthis.total_price = this.total_price + (item.total_price * 1);\n\t\t\t\t})\n\t\t\t\tthis.total_price = this.total_price.toFixed(2);\n\t\t\t},\n\t\t\tchooseAddr() { //选择地址\n\t\t\t\tif(JSON.stringify(this.user_address) == '[]'){\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"/pages/user/address/edit?id=0&form=submit\"\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"/pages/user/address/list?name=cart\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 2.2 订单提交\n\t\t\tbtnPay() {\n\t\t\t\tif (this.is_request) return;\n\t\t\t\tthis.is_request = true;\n\n\t\t\t\tvar use_score;\n\t\t\t\tvar obj = {};\n\t\t\t\t// \n\t\t\t\t// this.list.forEach((item) => {\n\t\t\t\t// \titem.goods_list.forEach((gItem, gIndex) => {\n\t\t\t\t// \t\tthis.subSendData[gIndex].total_price = gItem.total_price;\n\t\t\t\t// \t\tthis.subSendData[gIndex].total_original_price = gItem.total_original_price;\n\n\t\t\t\t// \t\tthis.subSendData[gIndex].use_score = gItem.use_score || 0;\n\t\t\t\t// \t\tthis.subSendData[gIndex].use_score_after_price = gItem.use_score_after_price || 0;\n\t\t\t\t// \t\tthis.subSendData[gIndex].use_score_price = gItem.use_score_price || 0;\n\t\t\t\t// \t})\n\t\t\t\t// })\n\n\t\t\t\tif (!(this.addressId || this.user_address.id)) {\n\t\t\t\t\tthis.$http.toast('请添加收货地址!')\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet others;\t//加入别人的团，传active_id\n\t\t\t\tif(this.active_id){\n\t\t\t\t\tothers = {active_id : this.active_id}\n\t\t\t\t}\n\t\t\t\t// 拼团提交\n\t\t\t\tthis.$http.request({\n\t\t\t\t\t// url: this.$api.order.doSubmitOrder,\n\t\t\t\t\turl: this.$api.plugin.group.do_submit_order,\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tlist: [{\n\t\t\t\t\t\t\tmch_id: 0,\n\t\t\t\t\t\t\tgoods_list: this.subSendData,\n\t\t\t\t\t\t\tremark: this.remark,\n\t\t\t\t\t\t\t// user_coupon_id: 0,\n\t\t\t\t\t\t\t// use_score: 0,\n\t\t\t\t\t\t\t// order_form: {},\n\t\t\t\t\t\t\tdelivery: [{\n\t\t\t\t\t\t\t\tsend_type: 'express'\n\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\tuse_coupon_list: this.use_coupon_list\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tuser_address_id: this.addressId ? this.addressId : this.user_address.id,\n\t\t\t\t\t\tuse_score: this.is_checked ? 1 : 0,\n\t\t\t\t\t\t...others\t\t//如果是加入别人的团（多加一个团id）\n\t\t\t\t\t}\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tthis.is_request = false;\t//防抖(重复请求)\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tuni.removeStorageSync('orderData');\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t// url: `/pages/order/pay?token=${res.data.token}&queue_id=${res.data.queue_id}`\n\t\t\t\t\t\t\turl: `/pages/order/pay?is_index=1&goods_id=${this.goods_id}&token=${res.data.token}&queue_id=${res.data.queue_id}&active_id=${this.active_id}`\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$http.toast(res.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tpadding-bottom: 98rpx;\n\t}\n\n\t.tui-box {\n\t\tpadding: 20rpx 20rpx 118rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.tui-address {\n\t\tmin-height: 80rpx;\n\t\tpadding: 10rpx 0;\n\t\tbox-sizing: border-box;\n\t\tposition: relative;\n\t}\n\n\t.tui-userinfo {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 500;\n\t\tline-height: 30rpx;\n\t\tpadding-bottom: 12rpx;\n\t}\n\n\t.tui-name {\n\t\tpadding-right: 40rpx;\n\t}\n\n\t.tui-addr {\n\t\tfont-size: 24rpx;\n\t\tword-break: break-all;\n\t\tpadding-right: 25rpx;\n\t}\n\n\t.tui-top {\n\t\tmargin-top: 20rpx;\n\t\toverflow: hidden;\n\t\tborder-radius: 20rpx;\n\t}\n\n\t.tui-goods-title {\n\t\tfont-size: 28rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.tui-padding {\n\t\tbox-sizing: border-box;\n\t}\n\n\t.tui-goods-item {\n\t\twidth: 100%;\n\t\tpadding: 20rpx 30rpx;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\n\t.tui-goods-img {\n\t\twidth: 180rpx;\n\t\theight: 180rpx;\n\t\tdisplay: block;\n\t\tflex-shrink: 0;\n\t}\n\n\t.tui-goods-center {\n\t\tflex: 1;\n\t\tpadding: 20rpx 8rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.tui-goods-name {\n\t\tmax-width: 310rpx;\n\t\tword-break: break-all;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 2;\n\t\tfont-size: 26rpx;\n\t\tline-height: 32rpx;\n\t}\n\n\t.tui-goods-attr {\n\t\tfont-size: 22rpx;\n\t\tcolor: #888888;\n\t\tline-height: 32rpx;\n\t\tpadding-top: 20rpx;\n\t\tword-break: break-all;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 2;\n\t}\n\n\t.tui-price-right {\n\t\ttext-align: right;\n\t\tfont-size: 24rpx;\n\t\tcolor: #888888;\n\t\tline-height: 30rpx;\n\t\tpadding-top: 20rpx;\n\t}\n\n\t.tui-flex {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tfont-size: 26rpx;\n\t}\n\n\t.tui-total-flex {\n\t\tjustify-content: flex-end;\n\t}\n\n\t.tui-color-red {\n\t\tpadding-right: 30rpx;\n\t}\n\n\t.tui-balance {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.tui-black {\n\t\tcolor: #222;\n\t\tline-height: 30rpx;\n\t}\n\n\t.tui-gray {\n\t\tcolor: #888888;\n\t\tfont-weight: 400;\n\t}\n\n\t.tui-light-dark {\n\t\tcolor: #666;\n\t}\n\n\t.tui-goods-price {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-top: 20rpx;\n\t}\n\n\t.tui-size-26 {\n\t\tfont-size: 26rpx;\n\t\tline-height: 26rpx;\n\t}\n\n\t.tui-price-large {\n\t\tfont-size: 34rpx;\n\t\tline-height: 32rpx;\n\t\tfont-weight: 600;\n\t}\n\n\t.tui-flex-end {\n\t\tdisplay: flex;\n\t\talign-items: flex-end;\n\t\tpadding-right: 0;\n\t}\n\n\t.tui-phcolor {\n\t\tcolor: #B3B3B3;\n\t\tfont-size: 26rpx;\n\t}\n\n\t/* #ifndef H5 */\n\t.tui-remark-box {\n\t\tpadding: 22rpx 30rpx;\n\t}\n\n\t/* #endif */\n\t/* #ifdef H5 */\n\t.tui-remark-box {\n\t\tpadding: 26rpx 30rpx;\n\t}\n\n\t/* #endif */\n\n\t.tui-remark {\n\t\tflex: 1;\n\t\tfont-size: 26rpx;\n\t\tpadding-left: 64rpx;\n\t}\n\n\t.tui-scale-small {\n\t\ttransform: scale(0.8);\n\t\ttransform-origin: 100% center;\n\t}\n\n\t.tui-scale-small .wx-switch-input {\n\t\tmargin: 0 !important;\n\t}\n\n\t/* #ifdef H5 */\n\t>>>uni-switch .uni-switch-input {\n\t\tmargin-right: 0 !important;\n\t}\n\n\t/* #endif */\n\t.tui-tabbar {\n\t\twidth: 100%;\n\t\theight: 98rpx;\n\t\tbackground: #fff;\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tfont-size: 26rpx;\n\t\tbox-shadow: 0 0 1px rgba(0, 0, 0, .3);\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t\tz-index: 99;\n\t}\n\n\t.tui-tabbar-box {\n\t\tpadding: 0 20rpx 0 42rpx;\n\t\theight: 100%;\n\t}\n\n\t.tui-pr-30 {\n\t\tpadding-right: 30rpx;\n\t}\n\n\t.tui-pr-20 {\n\t\tpadding-right: 20rpx;\n\t}\n\n\t.tui-none-addr {\n\t\theight: 80rpx;\n\t\tpadding-left: 5rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.tui-addr-img {\n\t\twidth: 36rpx;\n\t\theight: 46rpx;\n\t\tdisplay: block;\n\t\tmargin-right: 15rpx;\n\t}\n\n\n\t.tui-pr25 {\n\t\tbackground: linear-gradient(-30deg, rgba(214, 16, 13, 1), rgba(241, 72, 34, 1));\n\t\twidth: 208rpx;\n\t\theight: 78rpx;\n\t\tborder-radius: 50rpx;\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 11pt;\n\t\ttext-align: center;\n\t\tline-height: 78rpx;\n\t}\n\n\t.tui-safe-area {\n\t\theight: 1rpx;\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t}\n\n\t/*优惠券底部选择弹层*/\n\t.coupon-box {\n\t\tpadding: 0 20rpx 80rpx;\n\t\toverflow: hidden;\n\t}\n\n\t.coupon-title2 {\n\t\theight: 100rpx;\n\t\ttext-align: center;\n\t\tfont-size: 12pt;\n\t\tcolor: #000000;\n\t\tposition: fixed;\n\t\tbackground: #FFFFFF;\n\t\twidth: 100%;\n\t\tleft: 0;\n\t\tletter-spacing: 4rpx;\n\t\tfont-weight: 700;\n\t\tz-index: 99;\n\t\tborder-radius: 30rpx;\n\t\tline-height: 100rpx;\n\t}\n\n\t.coupon-icon {\n\t\tposition: absolute;\n\t\tright: 30rpx;\n\t\ttop: 4rpx;\n\t\tcolor: #ACACAC;\n\t\tfont-size: 28rpx;\n\t}\n\n\t.coupon-tips {\n\t\tmargin: 50rpx 0 30rpx;\n\t\tcolor: #000000;\n\t\tfont-size: 11pt;\n\t}\n\n\t.coupon-item {\n\t\twidth: 100%;\n\t\theight: 195rpx;\n\t\tdisplay: flex;\n\t\tcolor: #000000;\n\t\tmargin-bottom: 20rpx;\n\t\tbackground-size: cover !important;\n\t}\n\n\t.coupon-item-left {\n\t\twidth: 248rpx;\n\t\theight: 100%;\n\t\tcolor: #FFFFFF;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n\n\t.price-symbol {\n\t\tfont-size: 14pt;\n\t}\n\n\t.price-int {\n\t\tfont-size: 18pt;\n\t\tfont-weight: 700;\n\t\tmargin: 0 2rpx 0 4rpx;\n\t}\n\n\t.coupon-item-right {\n\t\tflex: 1;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-around;\n\t\tposition: relative;\n\t\tpadding: 20rpx 0 10rpx 20rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.coupon-item-name {\n\t\tfont-size: 11pt;\n\t}\n\n\t.coupon-item-condition {\n\t\tfont-size: 10pt;\n\t}\n\n\t.coupon-item-time {\n\t\tfont-size: 9pt;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding-right: 12rpx;\n\t}\n\n\t.receive {\n\t\tcolor: #FFFFFF;\n\t\tpadding: 6rpx 30rpx;\n\t\tborder-radius: 40rpx;\n\t\tfont-size: 9pt;\n\t}\n\n\t/* .receive-col {\n\t\tbackground: #FFFFFF;\n\t\tborder: 1px solid #BC0100;\n\t\tcolor: #BC0100;\n\t} */\n\n\t/*优惠券底部选择弹层*/\n\n\t.use-points {\n\t\tbackground: #FFFFFF;\n\t\tmargin-top: 40rpx;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 10rpx 30rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #000000;\n\t}\n\n\t.points-switch {\n\t\ttransform: scale(0.7);\n\t}\n\t\n\t/* 0.2 商品列表样式 */\n\t.item-goods{\n\t\tborder-radius: 20rpx;\n\t\tmargin-bottom: 20rpx;\n\t}\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submit.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610955360358\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}