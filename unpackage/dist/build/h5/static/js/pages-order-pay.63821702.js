(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-pay"],{"12c3":function(t,a,i){"use strict";i.d(a,"b",(function(){return o})),i.d(a,"c",(function(){return n})),i.d(a,"a",(function(){return e}));var e={comNavBar:i("7936").default},o=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"cart-root"},[i("com-nav-bar",{attrs:{"left-icon":"back",title:"提交订单","status-bar":!0,"background-color":t.navBg,border:!1,color:t.navCol},on:{clickLeft:function(a){arguments[0]=a=t.$handleEvent(a),t.back.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"cart-bg",style:{background:"url("+t.bg_url+")"}}),i("v-uni-view",{staticClass:"mainContent"},[i("v-uni-view",{staticClass:"up"},[i("v-uni-view",{staticClass:"balance"},[i("v-uni-text",[t._v("账户余额:")]),i("v-uni-view",[i("v-uni-text",{staticClass:"price"},[t._v(t._s(t.payData.balance))]),t._v("元")],1)],1),i("v-uni-view",{staticClass:"pay-content"},[i("v-uni-view",{staticClass:"pay-title"},[t._v("支付金额")]),t.payData?i("v-uni-view",{staticClass:"pay-price",style:{color:t.textColor}},[i("v-uni-text",{staticClass:"pay-icon"},[t._v("¥")]),t._v(t._s(t.payData.amount.toFixed(2)))],1):t._e(),i("v-uni-view",{staticClass:"numbering"},[t._v("订单编号："+t._s(t.payData.orderNo))])],1)],1),t.payData.amount?i("v-uni-view",{staticClass:"down"},t._l(t.payData.supportPayTypes,(function(a,e){return i("v-uni-view",{key:e,staticClass:"down-item"},[i("v-uni-view",{staticClass:"item-left"},[i("v-uni-image",{staticClass:"item-img",attrs:{src:t.img_url+"images/pay/"+a+".png",mode:""}}),"wechat"==a?i("v-uni-text",[t._v("微信支付")]):t._e(),"alipay"==a?i("v-uni-text",[t._v("支付宝支付")]):t._e(),"balance"==a?i("v-uni-text",[t._v("余额支付")]):t._e()],1),i("v-uni-view",{staticClass:"item-right-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchIcon(e)}}},[e==t.switchIndex?i("v-uni-view",{staticClass:"item-icon iconfont icon-dagou1",style:{color:t.textColor}}):i("v-uni-view",{staticClass:"item-right"})],1)],1)})),1):i("v-uni-view",{staticClass:"down"},[i("v-uni-view",{staticClass:"down-item"},[i("v-uni-view",{staticClass:"item-left"},[i("v-uni-image",{staticClass:"item-img",attrs:{src:t.img_url+"images/pay/balance.png",mode:""}}),i("v-uni-text",[t._v("余额支付")])],1),i("v-uni-view",{staticClass:"item-right-box"},[i("v-uni-view",{staticClass:"item-icon iconfont icon-dagou1",style:{color:t.textColor}})],1)],1)],1),i("v-uni-view",{staticClass:"confirmPay",style:{background:t.textColor},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toConfirmPay.apply(void 0,arguments)}}},[t._v("确认支付")])],1)],1)},n=[]},"1ac8":function(t,a,i){"use strict";i.r(a);var e=i("1afb"),o=i.n(e);for(var n in e)"default"!==n&&function(t){i.d(a,t,(function(){return e[t]}))}(n);a["default"]=o.a},"1afb":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;i("63f8");var e={data:function(){return{img_url:this.$api.img_url,showBool:!1,is_index:"",active_id:"",opacity:0,token:"",queue_id:"",payData:"",switchIndex:0,textColor:"#BC0100",bg_url:"",navBg:"",navCol:"",goods_id:""}},onLoad:function(t){t.goods_id&&(this.goods_id=t.goods_id),this.textColor=this.globalSet("textCol"),this.bg_url=this.globalSet("imgUrl"),this.navBg=this.globalSet("navBg"),this.navCol=this.globalSet("navCol"),this.token=t.token,this.queue_id=t.queue_id;var a=t.orderId?t.orderId:"";this.getPayData(a),t.is_index&&(this.is_index=1,this.active_id=t.active_id)},methods:{back:function(){this.navBack()},getPayData:function(t){var a=this;this.$http.request({url:this.$api.order.toPay,showLoading:!0,data:{token:this.token||"",queue_id:this.queue_id||"",id:t}}).then((function(t){0==t.code&&(a.payData=t.data)}))},toConfirmPay:function(){1==this.is_index?this.detailByOrder(this.payData.orderNo):this.confirmPay()},detailByOrder:function(t){var a=this;this.$http.request({url:this.$api.plugin.group.detail_by_order,method:"post",data:{order_no:t}}).then((function(t){0==t.code&&(t.data&&t.data.active_id?(a.active_id=t.data.active_id,a.confirmPay(!0)):a.confirmPay(!1))}))},confirmPay:function(t){var a=this,i=t,e="/mch/group-buy/detail?goods_id="+a.goods_id+"&detailId="+a.active_id,o="/mch/group-buy/orderList?goods_id="+a.goods_id;a.$http.request({url:a.$api.payment.doPay,showLoading:!0,method:"post",data:{union_id:a.payData.union_id,pay_type:a.payData.amount>0?a.payData.supportPayTypes[a.switchIndex]:"balance"}}).then((function(t){if(0==t.code){var n=a.payData.amount>0?a.payData.supportPayTypes[a.switchIndex]:"balance";if("balance"==n)return a.$http.toast("支付成功!"),void setTimeout((function(){1==a.is_index?i?uni.redirectTo({url:e}):uni.redirectTo({url:o}):uni.redirectTo({url:"/pages/order/list?status=1"})}),500);1==a.is_index?i?a.$wechatSdk.pay(t.data,e):a.$wechatSdk.pay(t.data,o):a.$wechatSdk.pay(t.data,"/pages/order/list?status=1")}else a.$http.toast(t.msg)}))},switchIcon:function(t){this.switchIndex=t}}};a.default=e},"1e2c":function(t,a,i){"use strict";i.r(a);var e=i("12c3"),o=i("1ac8");for(var n in o)"default"!==n&&function(t){i.d(a,t,(function(){return o[t]}))}(n);i("b1a6");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,"c3e7f1ea",null,!1,e["a"],s);a["default"]=r.exports},"422f":function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,".status_bar[data-v-c3e7f1ea]{height:0;width:100%}.status_bar2[data-v-c3e7f1ea]{height:0;width:100%;position:fixed;top:0;z-index:99}body[data-v-c3e7f1ea],\nuni-page-body[data-v-c3e7f1ea]{background-color:$uni-bg-color-grey}.cart-root[data-v-c3e7f1ea]{position:relative;z-index:1}.cart-bg[data-v-c3e7f1ea]{position:absolute;width:100%;background-size:cover;height:%?320?%}.cart-bg-img[data-v-c3e7f1ea]{width:100%}.cart-title[data-v-c3e7f1ea]{padding:%?40?% 0 %?0?%;color:#fff;font-size:14pt;letter-spacing:%?4?%;text-align:center;position:relative;margin-bottom:%?40?%}.back[data-v-c3e7f1ea]{position:absolute;top:%?40?%;left:%?30?%;font-size:%?40?%}.mainContent[data-v-c3e7f1ea]{z-index:999;position:relative;width:%?690?%;margin:%?118?% auto 0}.up[data-v-c3e7f1ea]{background:#fff;border-radius:%?15?%;margin-bottom:%?30?%}.balance[data-v-c3e7f1ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?30?% %?23?%;font-size:10pt;color:#000;border-bottom:%?2?% solid #f2f2f2}.price[data-v-c3e7f1ea]{font-size:13pt;margin-right:%?10?%}.pay-content[data-v-c3e7f1ea]{padding:%?43?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.pay-title[data-v-c3e7f1ea]{font-size:9pt;font-weight:600;margin-bottom:%?20?%;color:#000}.pay-icon[data-v-c3e7f1ea]{font-size:12pt;margin-right:%?20?%;font-weight:500}.pay-price[data-v-c3e7f1ea]{color:#bc0100;font-size:16pt;font-weight:600;margin-bottom:%?20?%}.numbering[data-v-c3e7f1ea]{font-size:10pt;color:#000}.down[data-v-c3e7f1ea]{background:#fff;border-radius:%?15?%;padding:%?40?% %?20?%}.down-item[data-v-c3e7f1ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?40?%}.down .down-item[data-v-c3e7f1ea]:last-child{margin-bottom:%?0?%}.item-left[data-v-c3e7f1ea]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#000;font-size:10pt}.item-img[data-v-c3e7f1ea]{width:%?40?%;height:%?40?%;margin-right:%?30?%}.item-right-box[data-v-c3e7f1ea]{width:%?38?%;height:%?38?%;position:relative}.item-right[data-v-c3e7f1ea]{width:%?38?%;height:%?38?%;border-radius:50%;border:%?2?% solid #8b8b8b;position:absolute}.item-icon[data-v-c3e7f1ea]{font-size:%?38?%;position:absolute;top:%?0?%;left:%?0?%;line-height:%?40?%;color:#bc0100}.confirmPay[data-v-c3e7f1ea]{color:#fff;background:#bc0100;padding:%?26?% 0;text-align:center;border-radius:%?80?%;font-size:10pt;letter-spacing:%?4?%;margin-top:%?80?%}body.?%PAGE?%[data-v-c3e7f1ea]{background-color:$uni-bg-color-grey}",""]),t.exports=a},"96ae":function(t,a,i){var e=i("422f");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("4f06").default;o("ff5a1570",e,!0,{sourceMap:!1,shadowMode:!1})},b1a6:function(t,a,i){"use strict";var e=i("96ae"),o=i.n(e);o.a}}]);