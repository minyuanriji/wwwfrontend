(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"586e":function(t,e,i){"use strict";var a=i("4ea4");i("a630"),i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2909")),o=a(i("b9ab")),s=a(i("cffe")),c=a(i("74c4")),r={components:{tuiIcon:o.default,tuiTag:s.default,tuiActionsheet:c.default},data:function(){return{searchVal:"",history:[],key:"",showActionSheet:!1,tips:"确认清空搜索历史吗？"}},onLoad:function(t){var e=this;this.key=t.key,uni.getStorage({key:"search-history",success:function(t){var i;(i=e.history).push.apply(i,(0,n.default)(t.data))}})},methods:{navTo:function(t){uni.redirectTo({url:"/pages/goods/list?searchKey="+t})},search:function(){if(this.key){var t=this;uni.redirectTo({url:"/pages/goods/list?searchKey="+this.key}),this.history.push(this.key),this.history=Array.from(new Set(this.history)),uni.setStorage({key:"search-history",data:t.history})}else this.$http.toast("请输入商品名")},back:function(){this.navBack()},cleanKey:function(){this.key=""},closeActionSheet:function(){this.showActionSheet=!1},openActionSheet:function(){this.showActionSheet=!0},itemClick:function(t){var e=t.index;0==e&&(this.showActionSheet=!1,this.history=[],uni.removeStorage({key:"search-history"}))}}};e.default=r},"80f9":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={comIcons:i("8cd0").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"tui-searchbox"},[i("v-uni-view",{staticClass:"tui-search-input"},[i("v-uni-view",[i("com-icons",{attrs:{type:"search",size:16,color:"#333333"}})],1),i("v-uni-input",{staticClass:"tui-input",attrs:{"confirm-type":"search",placeholder:"请输入商品名",focus:!0,"auto-focus":!0,"placeholder-class":"tui-input-plholder"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.key,callback:function(e){t.key="string"===typeof e?e.trim():e},expression:"key"}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.key,expression:"key"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cleanKey.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:"close-fill",size:16,color:"#bcbcbc"}})],1)],1),i("v-uni-view",{staticClass:"tui-cancle",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[t._v("搜索")])],1),t.history.length>0?i("v-uni-view",{staticClass:"tui-search-history"},[i("v-uni-view",{staticClass:"tui-history-header"},[i("v-uni-view",{staticClass:"tui-search-title"},[t._v("搜索历史")]),i("tui-icon",{staticClass:"tui-icon-delete",attrs:{name:"delete",size:14,color:"#333"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openActionSheet.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"tui-history-content"},t._l(t.history,(function(e,a){return i("v-uni-view",{key:a,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navTo(e)}}},[i("tui-tag",{attrs:{type:"gray",shape:"circle"}},[t._v(t._s(e))])],1)})),1)],1):t._e(),i("tui-actionsheet",{attrs:{show:t.showActionSheet,tips:t.tips},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.itemClick.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.closeActionSheet.apply(void 0,arguments)}}})],1)},o=[]},"856a":function(t,e,i){"use strict";i.r(e);var a=i("586e"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},8956:function(t,e,i){var a=i("ba91");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("cd25682e",a,!0,{sourceMap:!1,shadowMode:!1})},ba91:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-1849d756]{color:#333;background:#fff}.container[data-v-1849d756]{padding:0 %?30?% %?30?% %?30?%;box-sizing:border-box}.tui-searchbox[data-v-1849d756]{padding:%?30?% 0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tui-search-input[data-v-1849d756]{width:100%;height:%?66?%;border-radius:%?35?%;padding:0 %?30?%;box-sizing:border-box;background:#f2f2f2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.tui-input[data-v-1849d756]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333;padding:0 %?16?%;font-size:11pt}.tui-input-plholder[data-v-1849d756]{font-size:11pt;color:#b2b2b2}.tui-cancle[data-v-1849d756]{color:#888;font-size:11pt;padding-left:%?30?%;-webkit-flex-shrink:0;flex-shrink:0}.tui-history-header[data-v-1849d756]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?30?% 0}.tui-icon-delete[data-v-1849d756]{padding:%?10?%}.tui-search-title[data-v-1849d756]{font-size:11pt;font-weight:700}.tui-hot-header[data-v-1849d756]{padding:%?30?% 0}.tui-tag-class[data-v-1849d756]{display:inline-block;margin-bottom:%?20?%;margin-right:%?20?%;font-size:9pt!important}.tui-history-content[data-v-1849d756]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}body.?%PAGE?%[data-v-1849d756]{background:#fff}",""]),t.exports=e},c5d9:function(t,e,i){"use strict";i.r(e);var a=i("80f9"),n=i("856a");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("eb9d");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"1849d756",null,!1,a["a"],s);e["default"]=r.exports},eb9d:function(t,e,i){"use strict";var a=i("8956"),n=i.n(a);n.a}}]);