(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["plugins-business-card-message-list"],{"099b":function(t,e,a){"use strict";a("99af"),a("4160"),a("a434"),a("ac1f"),a("1276"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{msg_list:"",user_id:"",userInfo:"",tabbar:[{active_color:"rgb(188, 1, 0)",active_icon:"http://jxmall.sinbel.top/web//uploads/images/original/20200610/25498a7029149193dc88bbd527f82eef.png",color:"#888",icon:"http://jxmall.sinbel.top/web//uploads/images/original/20200610/3e8ecb9657d2a258285b957186ad9eac.png",open_type:"redirect",text:"首页",url:"/plugins/business-card/index"},{active_color:"rgb(188, 1, 0)",active_icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200806/900b3f657fdd4a0ab7588c44ae3d4999.png",color:"#888",icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200806/b8352b721c91af6e669a0443973c7570.png",open_type:"redirect",text:"雷达",url:"/plugins/business-card/log/log"},{active:!0,active_color:"rgb(188, 1, 0)",active_icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200806/164f085e0a13520c0d87a556cb6a82c7.png",color:"#888",icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200806/fce84bdbe8b0ce9ace336147cbc98402.png",open_type:"redirect",text:"消息",url:"/plugins/business-card/message/list"},{active_color:"rgb(188, 1, 0)",active_icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200806/24affe41873699280b881f6b3fe0dcd9.png",color:"#888",icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200806/53df1b6c503338b28e32daa7f37b08d5.png",open_type:"redirect",text:"客户",url:"/plugins/business-card/client/list"},{active_color:"rgb(188, 1, 0)",active_icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200610/4b5259cb3a8ee275acef5e7a6ad4bd7b.png",color:"#888",icon:"http://jxmall.sinbel.top/web/uploads/images/thumbs/20200610/2626dc5ddbb8ab3a7799aecdf7ec4c75.png",open_type:"redirect",text:"我的",url:"/plugins/business-card/my/index"}]}},onLoad:function(){uni.getStorageSync("userInfo")&&(this.userInfo=JSON.parse(uni.getStorageSync("userInfo")),this.user_id="user_"+this.userInfo.user_id),this.getMsgList()},computed:{time:function(){return function(t){var e=new Date(t),a=(e.getFullYear(),e.getMonth()+1),n=e.getDate(),i=e.getHours(),o=e.getMinutes();e.getSeconds();return"".concat(this.add0(a),"月").concat(this.add0(n),"日 ").concat(this.add0(i),":").concat(this.add0(o))}},str:function(){return function(t){return t.split("_")[1]}}},methods:{add0:function(t){return t<10?"0"+t:t},navTo:function(t){uni.setStorage({key:"other_info",data:JSON.stringify(t),success:function(){}}),uni.navigateTo({url:"/plugins/business-card/message/detail"})},getMsgList:function(){var t=this;this.$http.request({url:this.$api.plugin.business.message_list,method:"post",showLoading:!0,data:{user_id:this.userInfo.user_id,target_user_id:0}}).then((function(e){0==e.code&&(e.data.list.forEach((function(t){t.splice(0,t.length-1)})),t.msg_list=e.data.list)}))}}};e.default=n},1031:function(t,e,a){"use strict";var n=a("11e0"),i=a.n(n);i.a},"11e0":function(t,e,a){var n=a("cd57");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("a086e17a",n,!0,{sourceMap:!1,shadowMode:!1})},1919:function(t,e,a){"use strict";a.r(e);var n=a("099b"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},2524:function(t,e,a){"use strict";a.r(e);var n=a("a7e6"),i=a("d248");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("1031");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"06075cc7",null,!1,n["a"],s);e["default"]=c.exports},"4e38":function(t,e,a){var n=a("c215");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("570b8140",n,!0,{sourceMap:!1,shadowMode:!1})},"69c6":function(t,e,a){"use strict";var n=a("4e38"),i=a.n(n);i.a},"9a59":function(t,e,a){"use strict";a("4160"),a("c975"),a("a9e3"),a("d3b7"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"jxTabbar",props:{current:{type:Number,default:4},color:{type:String,default:"#000000"},selectedColor:{type:String,default:"#5677FC"},hump:{type:Boolean,default:!1},isFixed:{type:Boolean,default:!0},tabBar:{type:Array,default:function(){return[]}},badgeColor:{type:String,default:"#fff"},badgeBgColor:{type:String,default:"#F74D54"},unlined:{type:Boolean,default:!1}},data:function(){return{tabBarItems:null,is_show_tabbar:!1,backgroundColor:"",is_shadow:!1}},mounted:function(){var t=this,e=getCurrentPages();if(e.length>0)var a=e[e.length-1].route;var n,i=uni.getStorageSync("mall_config")?JSON.parse(uni.getStorageSync("mall_config")).navbar:null;i?"plugins/short-video/index"==a?(this.backgroundColor="transparent",this.is_shadow=!1):(this.backgroundColor=i.bottom_background_color,this.is_shadow=i.shadow):this.initMall().then((function(e){t.backgroundColor=e.bottom_background_color,t.is_shadow=e.shadow,n=e,n.navs.forEach((function(e,n){e.index=n,-1!=e.url.indexOf(a)&&(e.active=!0,t.is_show_tabbar=!0)})),t.tabBarItems=n.navs}));var o=this.tabBar.length>0?this.tabBar:i.navs;o.forEach((function(e,n){e.index=n,-1!=e.url.indexOf(a)&&(e.active=!0,t.is_show_tabbar=!0)})),this.tabBarItems=o;this.$http.getUrlParam("mall_id")},methods:{tabbarSwitch:function(t,e,a,n){"/plugins/short-video/index"==a&&(a+="?from=short-video"),uni.redirectTo({url:a})},initMall:function(){var t=this,e=uni.getStorageSync("mall_config")?JSON.parse(uni.getStorageSync("mall_config")).navbar:null;return new Promise((function(a,n){e?a(e):t.$http.request({url:t.$api.index.config}).then((function(t){if(0===t.code){var e=t.data,n=(e.cat_style,e.copyright,e.mall_setting,e.navbar);e.page_title;uni.setStorageSync("mall_config",JSON.stringify(t.data)),a(n)}}))}))}}};e.default=n},a2dd:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={mainTabbar:a("2524").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"msg-list-root"},[a("main-tabbar",{attrs:{tabBar:t.tabbar}}),0!=t.msg_list.length?t._l(t.msg_list,(function(e,n){return a("v-uni-view",t._l(e,(function(e,n){return a("v-uni-view",{staticClass:"msg-item flex",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navTo(e.msg.otherInfo)}}},[t.str("user_1")?[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.msg.userinfo.avatar_url,mode:""}}),a("v-uni-view",{staticClass:"msg-content"},[a("v-uni-view",{staticClass:"flex flex-x-between"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.msg.userinfo.username))]),a("v-uni-view",[t._v(t._s(t.time(e.msg.time)))])],1),a("v-uni-view",{staticClass:"over1"},[t._v(t._s(e.msg.content.text))])],1)]:[a("v-uni-image",{staticClass:"avatar",attrs:{src:e.msg.otherInfo.avatar_url,mode:""}}),a("v-uni-view",{staticClass:"msg-content"},[a("v-uni-view",{staticClass:"flex flex-x-between"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.msg.otherInfo.nickname))]),a("v-uni-view",[t._v(t._s(t.time(e.msg.time)))])],1),a("v-uni-view",{staticClass:"over1"},[t._v(t._s(e.msg.content.text))])],1)]],2)})),1)})):a("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"300rpx"}},[t._v("还没有聊天记录，过去和别人聊天吧")]),a("v-uni-view",{staticStyle:{height:"100rpx",width:"100%"}})],2)},o=[]},a7e6:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[t.is_show_tabbar?a("v-uni-view",{staticClass:"jx-tabbar",class:[t.isFixed?"jx-tabbar-fixed":"",t.unlined?"jx-unlined":"",t.is_shadow?"jx-shadow":""],style:{background:t.backgroundColor}},[t._l(t.tabBarItems,(function(e,n){return[a("v-uni-view",{key:n+"_0",staticClass:"jx-tabbar-item",class:[e.hump?"jx-item-hump":""],style:{backgroundColor:e.hump?t.tabBarItems.top_background_color:"none"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tabbarSwitch(n,e.hump,e.url,e.verify)}}},[a("v-uni-view",{staticClass:"jx-icon-box",class:[e.hump?"jx-tabbar-hump":""]},[a("v-uni-image",{staticClass:"img",class:[e.hump?"":"jx-tabbar-icon"],attrs:{src:e.active?e.active_icon:e.icon}}),e.num?a("v-uni-view",{class:[e.isDot?"jx-badge-dot":"jx-badge"],style:{color:t.badgeColor,backgroundColor:t.badgeBgColor}},[t._v(t._s(e.isDot?"":e.num))]):t._e()],1),a("v-uni-view",{staticClass:"jx-text-scale",class:[e.hump?"jx-text-hump":""],style:{color:e.active?e.active_color:e.color}},[t._v(t._s(e.text))])],1)]})),t.hump&&!t.unlined?a("v-uni-view",{class:[t.hump?"jx-hump-box":""]}):t._e()],2):t._e()],1)},o=[]},c215:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商城主题色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-54de2e5a]{background:#fff}.msg-item[data-v-54de2e5a]{padding:%?12?% %?30?% 0}.msg-item .avatar[data-v-54de2e5a]{width:%?100?%;height:%?100?%;border-radius:%?6?%;margin-right:%?20?%}.msg-item .msg-content[data-v-54de2e5a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?24?%;color:#909090;border-bottom:1px solid #f2f2f2;padding:%?2?% 0 %?30?%}.msg-item .msg-content .name[data-v-54de2e5a]{font-size:%?30?%;color:#000;margin-bottom:%?6?%}body.?%PAGE?%[data-v-54de2e5a]{background:#fff}',""]),t.exports=e},cd57:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'.jx-tabbar[data-v-06075cc7]{width:100%;height:%?100?%;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;\nposition:relative}.jx-tabbar-fixed[data-v-06075cc7]{position:fixed;z-index:99999;left:0;bottom:0;\npadding-bottom:env(safe-area-inset-bottom);\nbox-sizing:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.jx-tabbar[data-v-06075cc7]::before{\ncontent:"";width:100%;\n\t/* border-top: 1rpx solid #dadada; */position:absolute;top:0;left:0;-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transform-origin:0 100%;transform-origin:0 100%\n}.jx-tabbar-item[data-v-06075cc7]{height:100%;\n-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;text-align:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;box-sizing:border-box;\nposition:relative;padding:%?10?% 0}.jx-icon-box[data-v-06075cc7]{position:relative}.jx-item-hump[data-v-06075cc7]{height:%?98?%;z-index:2}.jx-tabbar-icon[data-v-06075cc7]{width:%?48?%;height:%?48?%;\ndisplay:block\n}.jx-hump-box[data-v-06075cc7]{width:%?120?%;height:%?120?%;background-color:#fff;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:%?-50?%;border-radius:50%;z-index:1}.jx-hump-box[data-v-06075cc7]::before{\ncontent:"";height:200%;width:200%;border:%?1?% solid #b2b2b2;position:absolute;top:0;left:0;-webkit-transform:scale(.5) translateZ(0);transform:scale(.5) translateZ(0);-webkit-transform-origin:0 0;transform-origin:0 0;border-radius:100%\n}.jx-unlined[data-v-06075cc7]::before{border:0!important}.jx-tabbar-hump[data-v-06075cc7]{width:%?100?%;height:%?100?%;position:absolute;left:50%;-webkit-transform:translateX(-50%) rotate(0deg);transform:translateX(-50%) rotate(0deg);top:%?-40?%;\n-webkit-transition:all .2s linear;transition:all .2s linear\n}.jx-tabbar-hump .img[data-v-06075cc7]{width:%?100?%;height:%?100?%;\ndisplay:block\n}.jx-hump-active[data-v-06075cc7]{\n-webkit-transform:translateX(-50%) rotate(135deg);transform:translateX(-50%) rotate(135deg)\n}.jx-text-hump[data-v-06075cc7]{position:absolute;bottom:%?10?%}.jx-text-scale[data-v-06075cc7]{font-weight:700;-webkit-transform:scale(.8);transform:scale(.8);font-size:%?25?%;line-height:%?28?%;-webkit-transform-origin:center 100%;transform-origin:center 100%}.jx-badge[data-v-06075cc7]{position:absolute;font-size:%?24?%;height:%?30?%;\nmin-width:%?30?%;\n\n\npadding:0 %?6?%;border-radius:%?40?%;right:0;top:%?-5?%;-webkit-transform:translateX(60%);transform:translateX(60%);\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center\n}.jx-badge-dot[data-v-06075cc7]{position:absolute;height:%?16?%;width:%?16?%;border-radius:50%;right:%?-4?%;top:%?-4?%}.jx-shadow[data-v-06075cc7]{box-shadow:0 0 5px 0 #eee}',""]),t.exports=e},d248:function(t,e,a){"use strict";a.r(e);var n=a("9a59"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},f5c1:function(t,e,a){"use strict";a.r(e);var n=a("a2dd"),i=a("1919");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("69c6");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"54de2e5a",null,!1,n["a"],s);e["default"]=c.exports}}]);